# aws 조작

### aws 계정 및 주의사항
aws 아이디를 만들고 4가지의 플렌이 있는데 기본, 개발자, 비즈니스, 엔터프라이즈 이중 필요한 기능에 따라 선택하여 사용한다
- 처음 만들어진 계정은 루트 사용자만 존재 한다. 루트 사용자 아이디는 모든 권한을 가진 계정이기 때문에 IAM을 통해 계정을 만들고 루트 사용자 계정은 계정 전체에 관련한 작업 등 루트 사용자 아이디로만 가능한 작업을 제외하고는 사용하지 않는게 좋다.

### aws 사용방법
1. 웹 브라우저를 통한 관리 콘솔사용
2. 명령줄 도구 CLI를 통해 사용
3. 개발 언어에서 SDK(software development kit)사용
- 다 가능하지만 웹 페이지는 업데이트 또는 홈페이지에 상황에 따라 위치가 변경되면 재현율이 떨어질 수 있기 때문에 CLI나 개발 언어에서 사용하는 방법을 익히는게 나중에 더 도움

### 비용 관리
aws는 종량 과금제로 비용을 청구한다. 하지만 이점에서 크고 복잡한 시스템을 많이 이용하게 되므로 전체 요금을 관리하기 어려워진다. 이외에도 계정 탈취나 해킹 등으로 고액의 요금이 청구 될 수 있다. 그렇기에 우리는 이 문제를 예방하기위해 aws billing and cost management를 통해 비용을 관리해야한다.
- aws billing and cost management는 청구 및 비용관리 서비스인데 billing 페이지를 통한 청구정보 및 이용 현황을 체크 가능하고 cost management를 통해 비용 상황을 시각화된 그래프를 통해 확인 가능하다.
- 비용관리의 있어서 알아두면 좋은 것은 cost explorer에서 현황을 파악하고 올바른 방침을 수립하고 budgets에서 예산을 결정하고 이용량을 감시해야한다.

### 리전의 대해 이해하기
리전은 전 세계적을로 존재하며 리전내의는 가용 영역(az)가 있으며 그 az는 하나의 데이터 센터로 구성되며 모두 독립적이다.
- 리전은 세계에서 이용하므로 글로벌 시스템을 구축할 있어 사용자의 통신 지연을 줄일 수 있다.
- 법적 요구 사항인 특정국가의 시스템 구축을 특정 리전을 통해 쉽게 요건을 충족할 수 있다.
- 큰 재난이 발생해서 현재 쓰는 리전 시스템을 못사용하게 된다해도 다른 리전으로 시스템을 가동할 수 있다

### AZ를 이헤하기
AZ는 가용 영역으로 거리상으로도 떨어져 있고 네트워크와 같은 설비도 AZ맏다 독립적으로 작동하므로 특정 AZ에서 발생한 장애는 다른 AZ 영향을 미치지 않는다.
- 독립적이지만 서로 고속 네트워크로 연결돼 있고 암호화된 통신을 이용한다.
- 이름과 id가 있으며 이름과 id는 1대1로 대응하지만, aws계정마다 이름과 대응하는 id가 다르다.(이는 aws자원을 az에 분산시키기 위해서다.)
- az에 장애가 발생하면 이름이 아닌 id을 확인한다.
- 리전 선택후 az는 서비스 안에서 선택(예를 등어 vpc에서 서브넷을 생성하는 경우/스토리지 서비스인 s3는 자동으로 3개 이상의 az에 데이터가 복사되므로 신경쓰지 않아도 된다.)